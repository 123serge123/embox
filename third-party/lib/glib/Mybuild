package third_party.libs

static module build_deps {
	depends embox.compat.libc.all
	depends embox.compat.posix.fs.statvfs
	depends embox.compat.posix.stubs
	depends embox.compat.posix.pthreads

	depends third_party.zlib.libs
	depends third_party.libs.libffi
	depends third_party.libs.libiconv
//	depends third_party.lib.pcre
	depends third_party.lib.coap
}

@BuildDepends(build_deps)
@BuildArtifactPath(cppflags="-I$(EXTERNAL_BUILD_DIR)/libs/glib")
@Build(stage=2,script="$(EXTERNAL_MAKE)")
static module glib {
	depends embox.compat.posix.LibPosix
	depends embox.compat.posix.pthreads
	depends embox.compat.libc.all
	depends embox.compat.posix.fs.statvfs
	depends embox.compat.posix.stubs
	depends embox.compat.posix.fs.realpath
	depends embox.compat.libc.stdlib.mktemp
	
	depends third_party.zlib.libs
	depends third_party.libs.libffi
	depends third_party.libs.libiconv
//	depends third_party.lib.pcre


	@AddPrefix("^BUILD/extbld/^MOD_PATH/install")
	source "libglib-2.0.a"
}
